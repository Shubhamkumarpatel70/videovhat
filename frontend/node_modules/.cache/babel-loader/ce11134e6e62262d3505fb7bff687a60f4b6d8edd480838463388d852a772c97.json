{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useRef, useEffect, useState, useCallback } from 'react';\nimport io from 'socket.io-client';\nconst useWebRTC = (roomId, user) => {\n  _s();\n  const [peers, setPeers] = useState({});\n  const [localStream, setLocalStream] = useState(null);\n  const [remoteStreams, setRemoteStreams] = useState({});\n  const [callEnded, setCallEnded] = useState(false);\n  const socketRef = useRef();\n  const peerConnections = useRef({});\n  const dataChannels = useRef({});\n  useEffect(() => {\n    socketRef.current = io('http://localhost:5000'); // Replace with your signaling server URL\n\n    navigator.mediaDevices.getUserMedia({\n      video: true,\n      audio: true\n    }).then(stream => {\n      setLocalStream(stream);\n      socketRef.current.emit('join-room', {\n        roomId,\n        user\n      });\n    }).catch(error => {\n      console.error('Error accessing media devices.', error);\n    });\n    socketRef.current.on('all-users', users => {\n      users.forEach(userID => {\n        const pc = createPeerConnection(userID);\n        peerConnections.current[userID] = pc;\n        const dc = pc.createDataChannel('chat');\n        dataChannels.current[userID] = dc;\n        setupDataChannel(dc);\n      });\n    });\n    socketRef.current.on('user-joined', payload => {\n      const pc = createPeerConnection(payload.callerID);\n      peerConnections.current[payload.callerID] = pc;\n      const dc = pc.createDataChannel('chat');\n      dataChannels.current[payload.callerID] = dc;\n      setupDataChannel(dc);\n      pc.createOffer().then(offer => {\n        return pc.setLocalDescription(offer);\n      }).then(() => {\n        socketRef.current.emit('offer', {\n          target: payload.callerID,\n          caller: socketRef.current.id,\n          sdp: pc.localDescription\n        });\n      }).catch(error => {\n        console.error('Error creating offer.', error);\n      });\n    });\n    socketRef.current.on('offer', payload => {\n      const pc = peerConnections.current[payload.caller];\n      pc.setRemoteDescription(payload.sdp).then(() => {\n        return pc.createAnswer();\n      }).then(answer => {\n        return pc.setLocalDescription(answer);\n      }).then(() => {\n        socketRef.current.emit('answer', {\n          target: payload.caller,\n          caller: socketRef.current.id,\n          sdp: pc.localDescription\n        });\n      }).catch(error => {\n        console.error('Error creating answer.', error);\n      });\n    });\n    socketRef.current.on('answer', payload => {\n      const pc = peerConnections.current[payload.caller];\n      pc.setRemoteDescription(payload.sdp).catch(error => {\n        console.error('Error setting remote description.', error);\n      });\n    });\n    socketRef.current.on('ice-candidate', payload => {\n      const pc = peerConnections.current[payload.caller];\n      pc.addIceCandidate(new RTCIceCandidate(payload.candidate)).catch(error => {\n        console.error('Error adding ICE candidate.', error);\n      });\n    });\n    socketRef.current.on('user-left', userID => {\n      if (peerConnections.current[userID]) {\n        peerConnections.current[userID].close();\n      }\n      delete peerConnections.current[userID];\n      delete dataChannels.current[userID];\n      setPeers(prevPeers => {\n        const newPeers = {\n          ...prevPeers\n        };\n        delete newPeers[userID];\n        return newPeers;\n      });\n      setRemoteStreams(prevStreams => {\n        const newStreams = {\n          ...prevStreams\n        };\n        delete newStreams[userID];\n        return newStreams;\n      });\n    });\n    socketRef.current.on('call-ended', () => {\n      setCallEnded(true);\n    });\n    return () => {\n      socketRef.current.disconnect();\n      localStream === null || localStream === void 0 ? void 0 : localStream.getTracks().forEach(track => track.stop());\n      Object.values(peerConnections.current).forEach(pc => pc.close());\n      socketRef.current.off('call-ended');\n    };\n  }, [roomId]);\n  const createPeerConnection = userID => {\n    const pc = new RTCPeerConnection({\n      iceServers: [{\n        urls: 'stun:stun.l.google.com:19302'\n      }, {\n        urls: 'stun:stun1.l.google.com:19302'\n      }]\n    });\n    pc.onicecandidate = event => {\n      if (event.candidate) {\n        socketRef.current.emit('ice-candidate', {\n          target: userID,\n          caller: socketRef.current.id,\n          candidate: event.candidate\n        });\n      }\n    };\n    pc.ontrack = event => {\n      setRemoteStreams(prevStreams => ({\n        ...prevStreams,\n        [userID]: event.streams[0]\n      }));\n    };\n    pc.ondatachannel = event => {\n      const dc = event.channel;\n      dataChannels.current[userID] = dc;\n      setupDataChannel(dc);\n    };\n    if (localStream) {\n      localStream.getTracks().forEach(track => {\n        pc.addTrack(track, localStream);\n      });\n    }\n    return pc;\n  };\n  const setupDataChannel = dc => {\n    dc.onopen = () => {\n      console.log('Data channel is open');\n    };\n    dc.onmessage = event => {\n      setMessages(prevMessages => [...prevMessages, JSON.parse(event.data)]);\n    };\n  };\n  const sendMessage = message => {\n    const messageData = {\n      user,\n      message,\n      timestamp: new Date()\n    };\n    setMessages(prevMessages => [...prevMessages, messageData]);\n    Object.values(dataChannels.current).forEach(dc => {\n      dc.send(JSON.stringify(messageData));\n    });\n  };\n  return {\n    socketRef,\n    localStream,\n    remoteStreams,\n    callEnded,\n    setCallEnded\n  };\n};\n_s(useWebRTC, \"eXif5G04I8YNz/sXnV4p8aJu6Eg=\");\nexport default useWebRTC;","map":{"version":3,"names":["useRef","useEffect","useState","useCallback","io","useWebRTC","roomId","user","_s","peers","setPeers","localStream","setLocalStream","remoteStreams","setRemoteStreams","callEnded","setCallEnded","socketRef","peerConnections","dataChannels","current","navigator","mediaDevices","getUserMedia","video","audio","then","stream","emit","catch","error","console","on","users","forEach","userID","pc","createPeerConnection","dc","createDataChannel","setupDataChannel","payload","callerID","createOffer","offer","setLocalDescription","target","caller","id","sdp","localDescription","setRemoteDescription","createAnswer","answer","addIceCandidate","RTCIceCandidate","candidate","close","prevPeers","newPeers","prevStreams","newStreams","disconnect","getTracks","track","stop","Object","values","off","RTCPeerConnection","iceServers","urls","onicecandidate","event","ontrack","streams","ondatachannel","channel","addTrack","onopen","log","onmessage","setMessages","prevMessages","JSON","parse","data","sendMessage","message","messageData","timestamp","Date","send","stringify"],"sources":["D:/WORKING WEBSITES/VIDEO CHAT/frontend/src/components/useWebRTC.js"],"sourcesContent":["import { useRef, useEffect, useState, useCallback } from 'react';\nimport io from 'socket.io-client';\n\nconst useWebRTC = (roomId, user) => {\n  const [peers, setPeers] = useState({});\n  const [localStream, setLocalStream] = useState(null);\n  const [remoteStreams, setRemoteStreams] = useState({});\n  const [callEnded, setCallEnded] = useState(false);\n  const socketRef = useRef();\n  const peerConnections = useRef({});\n  const dataChannels = useRef({});\n\n  useEffect(() => {\n    socketRef.current = io('http://localhost:5000'); // Replace with your signaling server URL\n\n    navigator.mediaDevices.getUserMedia({ video: true, audio: true })\n      .then(stream => {\n        setLocalStream(stream);\n        socketRef.current.emit('join-room', { roomId, user });\n      })\n      .catch(error => {\n        console.error('Error accessing media devices.', error);\n      });\n\n    socketRef.current.on('all-users', users => {\n      users.forEach(userID => {\n        const pc = createPeerConnection(userID);\n        peerConnections.current[userID] = pc;\n        const dc = pc.createDataChannel('chat');\n        dataChannels.current[userID] = dc;\n        setupDataChannel(dc);\n      });\n    });\n\n    socketRef.current.on('user-joined', payload => {\n      const pc = createPeerConnection(payload.callerID);\n      peerConnections.current[payload.callerID] = pc;\n      const dc = pc.createDataChannel('chat');\n      dataChannels.current[payload.callerID] = dc;\n      setupDataChannel(dc);\n      pc.createOffer()\n        .then(offer => {\n          return pc.setLocalDescription(offer);\n        })\n        .then(() => {\n          socketRef.current.emit('offer', {\n            target: payload.callerID,\n            caller: socketRef.current.id,\n            sdp: pc.localDescription,\n          });\n        })\n        .catch(error => {\n          console.error('Error creating offer.', error);\n        });\n    });\n\n    socketRef.current.on('offer', payload => {\n      const pc = peerConnections.current[payload.caller];\n      pc.setRemoteDescription(payload.sdp)\n        .then(() => {\n          return pc.createAnswer();\n        })\n        .then(answer => {\n          return pc.setLocalDescription(answer);\n        })\n        .then(() => {\n          socketRef.current.emit('answer', {\n            target: payload.caller,\n            caller: socketRef.current.id,\n            sdp: pc.localDescription,\n          });\n        })\n        .catch(error => {\n          console.error('Error creating answer.', error);\n        });\n    });\n\n    socketRef.current.on('answer', payload => {\n      const pc = peerConnections.current[payload.caller];\n      pc.setRemoteDescription(payload.sdp).catch(error => {\n        console.error('Error setting remote description.', error);\n      });\n    });\n\n    socketRef.current.on('ice-candidate', payload => {\n      const pc = peerConnections.current[payload.caller];\n      pc.addIceCandidate(new RTCIceCandidate(payload.candidate)).catch(error => {\n        console.error('Error adding ICE candidate.', error);\n      });\n    });\n\n    socketRef.current.on('user-left', userID => {\n      if (peerConnections.current[userID]) {\n        peerConnections.current[userID].close();\n      }\n      delete peerConnections.current[userID];\n      delete dataChannels.current[userID];\n      setPeers(prevPeers => {\n        const newPeers = { ...prevPeers };\n        delete newPeers[userID];\n        return newPeers;\n      });\n      setRemoteStreams(prevStreams => {\n        const newStreams = { ...prevStreams };\n        delete newStreams[userID];\n        return newStreams;\n      });\n    });\n\n    socketRef.current.on('call-ended', () => {\n      setCallEnded(true);\n    });\n\n    return () => {\n      socketRef.current.disconnect();\n      localStream?.getTracks().forEach(track => track.stop());\n      Object.values(peerConnections.current).forEach(pc => pc.close());\n      socketRef.current.off('call-ended');\n    };\n  }, [roomId]);\n\n  const createPeerConnection = (userID) => {\n    const pc = new RTCPeerConnection({\n      iceServers: [\n        { urls: 'stun:stun.l.google.com:19302' },\n        { urls: 'stun:stun1.l.google.com:19302' },\n      ],\n    });\n\n    pc.onicecandidate = event => {\n      if (event.candidate) {\n        socketRef.current.emit('ice-candidate', {\n          target: userID,\n          caller: socketRef.current.id,\n          candidate: event.candidate,\n        });\n      }\n    };\n\n    pc.ontrack = event => {\n      setRemoteStreams(prevStreams => ({\n        ...prevStreams,\n        [userID]: event.streams[0],\n      }));\n    };\n\n    pc.ondatachannel = event => {\n      const dc = event.channel;\n      dataChannels.current[userID] = dc;\n      setupDataChannel(dc);\n    };\n\n    if (localStream) {\n      localStream.getTracks().forEach(track => {\n        pc.addTrack(track, localStream);\n      });\n    }\n\n    return pc;\n  };\n\n  const setupDataChannel = (dc) => {\n    dc.onopen = () => {\n      console.log('Data channel is open');\n    };\n\n    dc.onmessage = event => {\n      setMessages(prevMessages => [...prevMessages, JSON.parse(event.data)]);\n    };\n  };\n\n  const sendMessage = (message) => {\n    const messageData = {\n      user,\n      message,\n      timestamp: new Date(),\n    };\n    setMessages(prevMessages => [...prevMessages, messageData]);\n    Object.values(dataChannels.current).forEach(dc => {\n      dc.send(JSON.stringify(messageData));\n    });\n  };\n\n  return { socketRef, localStream, remoteStreams, callEnded, setCallEnded };\n};\n\nexport default useWebRTC;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}